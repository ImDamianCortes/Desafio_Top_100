<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    <link rel="stylesheet" href="assets/css/style.css">

    <title>Desafio - Top 100</title>
</head>

<body>
    <!-- NavBar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">ImDamian</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Dropdown link
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Section Header -->
    <section class="container py-3">
        <h1 class="text-center">Desafío - Top 100</h1>
        <h5 class="text-center">Modulo 5</h5>
    </section>
    <!-- Section Body -->
    <section class="container">
        <!-- Accordion -->
        <div class="accordion">
            <!-- Item 01 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button bg-dark text-white" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        1. Crear base de datos llamada películas.
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p>Dentro de un motor de base de datos PostgreSQL, podemos tener varias bases de datos.Para crear una base de datos, usaremos el siguiente comando, el que nos permitirá alojar todas las tablas que se generen posteriormente:</p>
                        <pre><code>CREATE DATABASE nombre_base_de_datos;</code></pre>
                        <img src="assets/img/CREATE DATABASE.PNG" alt="create-database">
                        <p>Una vez creada la base de datos se puede verificar que esta ha sido creada con el siguiente comando</p>
                        <pre><code>\l</code></pre>
                        <p>Obteniendo como resultado la lista de base de datos en la que encontramos la que previamente creamos, en este caso "peliculas"</p>
                        <img src="assets/img/LISTADO DE BASE DE DATOS.PNG" alt="">
                        <p>Posteriormente debemos acceder a la base de datos en la que queremos trabajar y para esto utilizamos la siguiente instruccion.</p>
                        <pre><code>\c nombre_base_de_datos</code></pre>
                        <img src="assets/img/ACCESO A BASE DE DATOS.PNG" alt="">
                    </div>
                </div>
            </div>
            <!-- Item 02 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed bg-dark text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false"
                        aria-controls="collapseTwo">
                        2. Cargar ambos archivos a su tabla correspondiente.
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p>Una vez que creamos la base de datos y accedimos a ella, es necesario comenzar con la creacion de las tablas.</p>
                        <p>Crear la tabla (peliculas).</p>
                        <pre><code>CREATE TABLE peliculas(id int, pelicula varchar(60), ano_estreno varchar(4), director varchar(60), PRIMARY KEY(id));</code></pre>
                        <img src="assets/img/CREATE TABLE PELICULAS.PNG" alt="">
                        <p>Importar los datos desde archivo (peliculas.csv)</p>
                        <pre><code>COPY peliculas FROM 'C:\Users\darkm\Desktop\Modulo 5\Desafio_Top_100\Apoyo DesafIo - Top 100\peliculas.csv' csv header;</code></pre>
                        <img src="assets/img/IMPORT CSV PELICULAS.PNG" alt="">
                        <p>Crear la tabla (reparto).</p>
                        <pre><code>CREATE TABLE reparto(id int, reparto varchar(60), FOREIGN KEY (id) REFERENCES peliculas(id));</code></pre>
                        <img src="assets/img/CREATE TABLE REPARTO.PNG" alt="">
                        <p>Importar los datos desde archivo (reparto.csv)</p>
                        <pre><code>COPY reparto FROM 'C:\Users\darkm\Desktop\Modulo 5\Desafio_Top_100\Apoyo DesafIo - Top 100\reparto.csv' csv header;</code></pre>
                        <img src="assets/img/IMPORT CSV REPARTO.PNG" alt="">
                        <p>Finalmente se puede comprobar que los archivos han sido cargados de forma correcta.</p>
                        <pre><code>SELECT * FROM peliculas;</code></pre>
                        <img src="assets/img/TABLE PELICULAS.PNG" alt="">
                        <pre><code>SELECT * FROM reparto;</code></pre>
                        <img src="assets/img/TABLE REPARTO.PNG" alt="">
                    </div>
                </div>
            </div>
            <!-- Item 03 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed bg-dark text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false"
                        aria-controls="collapseThree">
                        3. Obtener el ID de la película “Titanic”.
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <pre><code>SELECT id FROM peliculas WHERE pelicula='Titanic';</code></pre>
                        <img src="assets/img/ID PELICULA TITANIC.PNG" alt="">
                    </div>
                </div>
            </div>
            <!-- Item 04 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFour">
                    <button class="accordion-button collapsed bg-dark text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false"
                        aria-controls="collapseFour">
                        4.   Listar a todos los actores que aparecen en la película "Titanic".
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p>En este caso se utiliza una consulta anidada en la condicion</p>
                        <pre><code>SELECT reparto FROM reparto WHERE id=(SELECT id FROM peliculas WHERE pelicula='Titanic');</code></pre>
                        <img src="assets/img/REPARTO TITANIC.PNG" alt="">
                    </div>
                </div>
            </div>
            <!-- Item 05 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFive">
                    <button class="accordion-button collapsed bg-dark text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false"
                        aria-controls="collapseFive">
                        5.   Consultar en cuántas películas del top 100 participa Harrison Ford.
                    </button>
                </h2>
                <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <pre><code>SELECT COUNT (id) AS total_participacion_t100_Harrison_Ford FROM reparto WHERE reparto='Harrison Ford';</code></pre>
                        <img src="assets/img/PELICULAS HARRISON FORD.PNG" alt="">
                    </div>
                </div>
            </div>
            <!-- Item 06 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingSix">
                    <button class="accordion-button collapsed bg-dark text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false"
                        aria-controls="collapseSix">
                        6.   Indicar las películas estrenadas entre los años 1990 y 1999 ordenadas por título de manera ascendente.
                    </button>
                </h2>
                <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <pre><code>SELECT id,pelicula,ano_estreno FROM peliculas WHERE ano_estreno BETWEEN '1990' AND '1999' ORDER BY ano_estreno ASC;</code></pre>
                        <img src="assets/img/FILTRO AÑOS 90 A 99.PNG" alt="">
                    </div>
                </div>
            </div>
            <!-- Item 07 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingSeven">
                    <button class="accordion-button collapsed bg-dark text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="false"
                        aria-controls="collapseSeven">
                        7.   Hacer una consulta SQL que muestre los títulos con su longitud, la longitud debe ser nombrado para la consulta como “longitud_titulo”.
                    </button>
                </h2>
                <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <pre><code>SELECT id,pelicula, LENGTH(pelicula) AS longitud_titulo FROM peliculas;</code></pre>
                        <img src="assets/img/LONGITUD TITULOS.PNG" alt="">
                    </div>
                </div>
            </div>
            <!-- Item 08 -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingEigth">
                    <button class="accordion-button collapsed bg-dark text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseEigth" aria-expanded="false"
                        aria-controls="collapseEigth">
                        8.   Consultar cual es la longitud más grande entre todos los títulos de las películas.
                    </button>
                </h2>
                <div id="collapseEigth" class="accordion-collapse collapse" aria-labelledby="headingEigth"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p>Inicialmemnte de busca dentro de los titulos de peliculas el maximo largo.</p>
                        <pre><code>SELECT MAX(LENGTH(pelicula)) AS longitud_max_titulo FROM peliculas;</code></pre>
                        <img src="assets/img/MAX LENGTH.PNG" alt="">
                        <p>Debido a que el solo se mustra el largo y no los datos se utiliza una consulta anidada para mostrar la id-titulo y el largo cuando se cumpla la condicion de que el largo sea igual al maximo largo encontrado.</p>
                        <pre><code>SELECT id,pelicula, LENGTH(pelicula) AS max_longitud_titulo FROM peliculas WHERE LENGTH(pelicula)=(SELECT MAX(LENGTH(pelicula)) FROM peliculas);</code></pre>
                        <img src="assets/img/MAX LENGTH ANIDADO.PNG" alt="">
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Comentario -->
    <section class="container pt-5">
        <h5 class="text-info"><strong>Nota: </strong>pendiente comentar y revisar desde los Items 4 en adelante.</h5>
    </section>
    


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
</body>

</html>